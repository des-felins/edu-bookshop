DROP TABLE IF EXISTS formats CASCADE;
CREATE TABLE IF NOT EXISTS formats (
  id   BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  name VARCHAR(250)
);
CREATE INDEX ON formats (name);

DROP TABLE IF EXISTS categories CASCADE;
CREATE TABLE IF NOT EXISTS categories (
  id   BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  name VARCHAR(250)
);
CREATE INDEX ON categories (name);

DROP TABLE IF EXISTS languages CASCADE;
CREATE TABLE IF NOT EXISTS languages (
  id   BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  name VARCHAR(250)
);
CREATE INDEX ON languages (name);

DROP TABLE IF EXISTS authors CASCADE;
CREATE TABLE IF NOT EXISTS authors (
  id   BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  name VARCHAR(250)
);
CREATE INDEX ON authors (name);

DROP TABLE IF EXISTS books CASCADE;
CREATE TABLE IF NOT EXISTS books (
  id   BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  name VARCHAR(250),
  author_id BIGINT NOT NULL REFERENCES authors(id),
  category_id BIGINT NOT NULL REFERENCES categories(id),
  format_id BIGINT NOT NULL REFERENCES formats(id),
  language_id BIGINT NOT NULL REFERENCES languages(id),
  quantity INT NOT NULL,
  price DOUBLE PRECISION NOT NULL,
  isbn VARCHAR(250)
);
CREATE INDEX ON books (isbn);